---
description: "Создать черновик плана реализации для следующей фазы, учитывая бэклог, дорожную карту и уроки предыдущей фазы."
---
<task>
    <name>Планирование Следующей Фазы Разработки</name>
    <objective>Создать черновик плана реализации для следующей фазы, учитывая бэклог, дорожную карту и уроки предыдущей фазы.</objective>
    <trigger>Ручной запуск пользователем после анализа артефактов `LEARNING-*.md`.</trigger>
    <context>
        <source_documents>[[roadmap]], [[backlog]]</source_documents>
        <learnings>Все `LEARNING-*.md` из предыдущей фазы.</learnings>
        <standard>[[rules.04-filename-referencing-rules]]</standard>
    </context>
    <workflow>
        <step id="1" name="Разработка чернового плана с учетом уроков">
            <instruction>Делегировать задачу агенту `Architect`.</instruction>
            <sub_task_prompt>
"**Задача:** Разработай черновик `[[phase-[X+1]-implementation-plan]]`.
**Обязательные источники для анализа:**
1. `[[roadmap]]` и `[[backlog]]` для определения ЧТО делать.
2. Все артефакты `[[LEARNING-*.md]]` из предыдущей фазы для определения КАК делать лучше.
**Требования к плану:**
- План должен содержать последовательность реализации User Stories.
- **Критически важно:** В плане должны быть явные отсылки к 'урокам'. Ты должен показать, как именно ты учел предыдущий опыт.
- **Пример:** *'На тестирование API-модуля (задачи [[STORY-API-15]], [[STORY-API-16]]) выделяется дополнительное время, так как в прошлой фазе была выявлена проблема с недостаточным покрытием тестами (см. [[LEARNING-1]]).'*
"
            </sub_task_prompt>
            <human_approval_gate>true</human_approval_gate>
            <on_failure>
                <instruction>Сообщить пользователю, что `Architect` не смог создать план. Предоставить лог ошибки и порекомендовать проверить ясность бэклога и 'уроков'.</instruction>
            </on_failure>
        </step>
        <step id="2" name="Информирование о готовности">
            <instruction>После утверждения плана пользователем, сообщить, что фаза готова к инициации.</instruction>
            <sub_task_prompt>
"**Задача:** План утвержден. Сообщи пользователю, что теперь можно запускать команду `[[commands.initiate-development-phase]]` для старта новой фазы."
            </sub_task_prompt>
        </step>
    </workflow>
</task>